let listbooks1 = [
    {
        src: "img/Sách Chính trị – pháp luật;/Bàn Về Tinh Thần Pháp Luật (Tái Bản 2023) .jpeg",
        name: "Bàn Về Tinh Thần Pháp Luật ",
        price: 13100,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Chính trị – pháp luật;/Bộ Luật Tố Tụng Dân Sự.jpeg",
        name: "Bộ Luật Tố Tụng Dân Sự",
        price: 90000,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Chính trị – pháp luật;/Điểm mới của Luật Doanh nghiệp năm 2020 dành cho doanh nghiệp.jpeg",
        name: "Điểm mới của Luật Doanh nghiệp ",
        price: 300000,
        type: "Sách Chính trị – pháp luật"
    },

    {
        src: "img/Sách Chính trị – pháp luật;/Pháp Luật Đại Cương (Tái Bản).webp",
        name: "Pháp Luật Đại Cương (Tái Bản)",
        price: 89000,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Chính trị – pháp luật;/Quyền Lực.jpeg",
        name: "Quyền Lực",
        price: 203000,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Chính trị – pháp luật;/Sách Bác Hồ - Bác Hồ Với Học Sinh, Sinh Viên.jpeg",
        name: "Sách Bác Hồ",
        price: 70000,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Chính trị – pháp luật;/Sách Chính sách pháp luật - Những vấn đề lý luận và thực tiễn.jpeg",
        name: "Luật doanh nghiệp",
        price: 101000,
        type: "Sách Chính trị – pháp luật"
    },
    {
        src: "img/Sách Giáo trình/[Phiên chợ sách cũ] Giáo Trình Quản Trị Học.jpeg",
        name: "Giáo Trình Quản Trị Học",
        price: 123000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Click Tiếng Việt Trình Độ A - Tập 2.jpeg",
        name: "Click Tiếng Việt Trình Độ A ",
        price: 345000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Auto Card - Lý Thuyết Và Thực Hành.jpeg",
        name: "Giáo Trình Auto Card",
        price: 222000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Luật Quốc Tế.jpeg",
        name: "Giáo Trình Luật Quốc Tế",
        price: 132000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Chủ Nghĩa Xã Hội Khoa Học (Dành Cho Bậc Đại Học Hệ Chuyên Lý Luận Chính Trị).jpeg",
        name: "Giáo Trình Chủ Ngha Xã Hội Khoa Học ",
        price: 234000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Ngữ Pháp Tiếng Anh (Trình Độ Sơ - Trung Cấp).jpeg",
        name: "Giáo Trình Ngữ Pháp Tiếng Anh",
        price: 126000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Quản Trị Cơ Sở Lưu Trú Du Lịch.jpeg",
        name: "Giáo Trình Quản Trị Cơ Sở Lưu Trú Du Lịch",
        price: 235000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Hán Ngữ Boya II - Trung Cấp (Tập 1).jpeg",
        name: "Giáo Trình Hán Ngữ Boya II - Trung Cấp ",
        price: 135000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Marathon Nâng Cao - Dành Cho Những Chân Chạy Sẵn Sàng Tập Luyện Chăm Chỉ Và Bài Bản.jpeg",
        name: "Giáo Trình Marathon Nâng Cao",
        price: 345000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Quản Trị Chiến Lược Trong Tổ Chức Du Lịch.jpeg",
        name: "Giáo Trình Quản Trị Chiến Lược Trong Tổ Chức Du Lịch",
        price: 128000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Thực Hành PIC - Vi Điều Khiển Và Ứng Dụng.jpeg",
        name: "Giáo Trình Thực Hành PIC",
        price: 231000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Triết Học Mác - Lênin (Dành Cho Bậc Đại Học Hệ Chuyên Lý Luận Chính Trị).jpeg",
        name: "Giáo Trình Triết Học Mác - Lênin ",
        price: 130000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Tư Tưởng Hồ Chí Minh (Dành Cho Bậc Đại Học Hệ Chuyên Lý Luận Chính Trị).jpeg",
        name: "Giáo Trình Tư Tưởng Hồ Chí Minh ",
        price: 234000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Giáo trình/Giáo Trình Điện Tử Thực Hành.jpeg",
        name: "Giáo Trình Điện Tử Thực Hành",
        price: 346000,
        type: "Sách Giáo trình"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Bứt Phá Giới Hạn - Phụ Nữ, Lãnh Đạo, Và Thành Công Theo Cách Của Riêng Mình.jpeg",
        name: "Bứt Phá Giới Hạn ",
        price: 125000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Cách Mạng Siêu Nhân Hóa - Công Nghệ Y Học Và Xu Hướng Kinh Tế Chia Sẻ.jpeg",
        name: "Cách Mạng Siêu Nhân Hóa ",
        price: 234000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Cuộc Chiến Công Nghệ Số.jpeg",
        name: "Cuộc Chiến Công Nghệ Số",
        price: 123400,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/FINTECH 4.0 .jpeg",
        name: "FINTECH 4.0",
        price: 235000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Nghệ Thuật Ghi Chép 1 Phút.jpeg",
        name: "Nghệ Thuật Ghi Chép 1 Phút",
        price: 267000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Nghệ Thuật Kaizen Tuyệt Vời Của Toyota.jpeg",
        name: "Nghệ Thuật Kaizen Tuyệt Vời Của Toyota",
        price: 133400,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Nuôi Dạy Trẻ Dưới Góc Nhìn Kinh Tế Học.jpeg",
        name: "Nuôi Dạy Trẻ Dưới Góc Nhìn Kinh Tế Học",
        price: 197000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },

    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Startup Science - Khoa Học Về Khởi Nghiệp.jpeg",
        name: "Startup Science - Khoa Học Về Khởi Nghiệp",
        price: 189000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Ứng Dụng Công Nghệ Truy Dấu Tiếp Xúc Để Ứng Phó Với Covid-19.jpeg",
        name: "Ứng Dụng Công Nghệ ",
        price: 187000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Khoa học công nghệ – Kinh tế;/Vượt Qua Phản Đối- Nghệ Thuật Và Khoa Học Thương Thảo Trong Bán Hàng.jpeg",
        name: "Vượt Qua Phản Đối",
        price: 176000,
        type: "Sách Khoa học công nghệ – Kinh tế"
    },
    {
        src: "img/Sách Sách thiếu nhi/Bách Khoa Thư Khủng Long Dành Cho Thiếu Nhi (Tái Bản 2022).jpeg",
        name: "Bách Khoa Thư Khủng Long Dành Cho Thiếu Nhi",
        price: 58000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Những Truyện Hay Viết Cho Thiếu Nhi - Thy Ngọc (Tái Bản 2020).jpeg",
        name: "Những Truyện Hay Viết Cho Thiếu Nhi",
        price: 94000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Những Truyện Hay Viết Cho Thiếu Nhi - Tô Hoài (Tái Bản 2019).jpeg",
        name: "Những Truyện Hay Viết Cho Thiếu Nhi  ",
        price: 55000,
        type: "Sách thiếu nhiê"
    },
    {
        src: "img/Sách Sách thiếu nhi/Những Truyện Hay Viết Cho Thiếu Nhi - Vũ Tú Nam (Tái Bản 2020).jpeg",
        name: "Những Truyện Hay Viết Cho Thiếu Nhi ",
        price: 67000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Những Truyện Hay Viết Cho Thiếu Nhi - Xuân Quỳnh (Tái Bản 2019).jpeg",
        name: "Những Truyện Hay Viết Cho Thiếu Nhi ",
        price: 28300,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Rơm Rạ Lấm Lem - Truyện Dài Thiếu Nhi Độ Tuổi 6 Đến 15.jpeg",
        name: "Rơm Rạ Lấm Lem ",
        price: 33900,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Thơ Cho Thiếu Nhi.jpeg",
        name: "Thơ Cho Thiếu Nhi",
        price: 78700,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Truyện Tranh Ngụ Ngôn Dành Cho Thiếu Nhi- Chuột, Gà Trống Và Mèo (Song Ngữ Anh - Việt).jpeg",
        name: " Chuột, Gà Trống Và Mèo",
        price: 78000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Truyện Tranh Ngụ Ngôn Dành Cho Thiếu Nhi- Lừa Đội Lốt Sư Tử (Song Ngữ Anh - Việt).jpeg",
        name: " Lừa Đội Lốt Sư Tử",
        price: 63000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Truyện Tranh Ngụ Ngôn Dành Cho Thiếu Nhi- Sói Và Sóc (Song Ngữ Anh - Việt).jpeg",
        name: " Sói Và Sóc",
        price: 55600,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Truyện Tranh Ngụ Ngôn Dành Cho Thiếu Nhi- Sư Tử Và Chuột Nhắt (Song Ngữ Anh - Việt).jpeg",
        name: "Sư Tử Và Chuột Nhắt",
        price: 78900,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Tuyển Tập Văn Học Viết Cho Thiếu Nhi - Tô Hoài - 3 - Truyện Các Gương Anh Hùng Cách Mạng.jpeg",
        name: "Tuyển Tập Văn Học Viết Cho Thiếu Nhi",
        price: 78600,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Tuyển Tập Truyện Hay Dành Cho Thiếu Nhi 2 (Tái Bản 2020).jpeg",
        name: "Tuyển Tập Truyện Hay Dành Cho Thiếu Nhi 2",
        price: 43700,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Tủ Sách Vàng - Tác Phẩm Chọn Lọc Dành Cho Thiếu Nhi- Từ Giã Tuổi Thơ.jpeg",
        name: "Tủ Sách Vàng",
        price: 89000,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Sách thiếu nhi/Tủ Sách Đoàn - Hội - Đội Và Kỹ Năng Sinh Hoạt Thiếu Nhi - 99 Trò Chơi Vận Động (2022).jpeg",
        name: "Tủ Sách Đoàn",
        price: 67900,
        type: "Sách thiếu nhi"
    },
    {
        src: "img/Sách Văn học nghệ thuật/60 Năm Văn Học Đương Đại Trung Quốc.jpeg",
        name: "60 Năm Văn Học Đương Đại Trung Quốc",
        price: 178000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Câu Chuyện Nghệ Thuật.jpeg",
        name: "Câu Chuyện Nghệ Thuật",
        price: 287000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Chuyện Kể Về Doanh Nhân Thế Giới - Danh Nhân Văn Học Nghệ Thuật.jpeg",
        name: "Chuyện Kể Về Doanh Nhân Thế Giới",
        price: 222000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Lịch Sử Tiền Tệ - The History Of Money.jpeg",
        name: "Lịch Sử Tiền Tệ",
        price: 171000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Lịch Sử Việt Nam Từ Nguồn Gốc Đến Thế Kỷ XIX (Bìa Cứng).jpeg",
        name: "Lịch Sử Việt Nam",
        price: 232200,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Nghệ Thuật Chăm Pa Nghiên Cứu Kiến Trúc Và Điêu Khắc Đền Tháp.jpeg",
        name: "Nghệ Thuật Chăm Pa",
        price: 123000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Nghệ Thuật Nói Chuyện Và Xã Giao Hằng Ngày (Tái Bản 2019).jpeg",
        name: "Nghệ Thuật Nói Chuyện Và Xã Giao Hằng Ngày",
        price: 200000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Nghệ Thuật Sống Vững Vàng.jpeg",
        name: "Nghệ Thuật Sống Vững Vàng",
        price: 128000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Nghệ Thuật Thăng Tiến Nơi Công Sở - Thriving At Work.jpeg",
        name: "Nghệ Thuật Thăng Tiến Nơi Công Sở ",
        price: 234000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Tìm Hiểu Xã Hội Việt Nam Thời Lý - Trần.jpeg",
        name: "Tìm Hiểu Xã Hội Việt Nam Thời Lý - Trần",
        price: 225000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Văn Hóa - Văn Học Dưới Góc Nhìn Liên Không Gian.jpeg",
        name: "Văn Hóa - Văn Học Dưới Góc Nhìn Liên Không Gian",
        price: 234000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Văn Hóa Người Việt Vùng Tây Nam Bộ (2022).jpeg",
        name: "Văn Hóa Người Việt Vùng Tây Nam Bộ",
        price: 246000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Văn Học Nghệ Thuật - Đôi Điều Nói Lại.jpeg",
        name: "Văn Học Nghệ Thuật",
        price: 237000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Văn Học Nhật Bản - Vẻ Đẹp Mong Manh Và Bất Tận.jpeg",
        name: "Văn Học Nhật Bản",
        price: 246700,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Sách Văn học nghệ thuật/Văn Học Tuổi 20 - Ngủ Ngon Nhé, Nàng Thơ.jpeg",
        name: "Văn Học Tuổi 20",
        price: 167000,
        type: "Sách Văn học nghệ thuật"
    },
    {
        src: "img/Bao Giờ Hết Ế.webp",
        name: "Bao Giờ Hết Ế?",
        price: 123000,
        type: "Sách bán chạy"
    },
    {
        src: "img/Đạo đức học.jpeg",
        name: "Đạo đức học",
        price: 123000,
        type: "Sách bán chạy"
    },
    {
        src: "img/nghệ thuật tinh tế.jpeg",
        name: "nghệ thuật tinh tế",
        price: 123000,
        type: "Sách bán chạy"
    }
]

const USDollar = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
});

const VND = new Intl.NumberFormat('vi-VN', {
    style: 'currency',
    currency: 'VND',
});

//1:tạo và lưu trữ local storage
function uuid() {
    return new Date().getMilliseconds() + Math.floor(Math.random() * 9999999999999);
}

for (let i in listbooks1) {
    listbooks1[i].id = uuid();
    listbooks1[i].quantity = 0;
}

if (!localStorage.getItem("listBooks")) {
    localStorage.setItem("listBooks", JSON.stringify(listbooks1));
}



//3.hien thi trang
let listBooks = JSON.parse(localStorage.getItem("listBooks"));
let currentPage = 1;// trang hiện tại
let totalItemPage = 12; // tổng số item trên 1 page
let start;
let end;
function showCurrentPage(page) {
    start = (page - 1) * totalItemPage;
    end = page * totalItemPage;
}
showCurrentPage(currentPage);

function showListPages() {
    let result = "";
    for (let i = 0; i < 6; i++) {

        result +=
            `
             <li class="li2"onclick="buttons(${i})"> ${i + 1}</li>
        `

    }
    document.getElementById("listPage").innerHTML = result;
}
showListPages();
function increasePage() {
    currentPage++;
    if (currentPage == 6) {
        currentPage = 5;
    }
    let listItemPage = document.getElementsByClassName("item-page")
    console.log(listItemPage);
    for (let i = 0; i < listItemPage.length; i++) {
        if (i == currentPage - 1) {
            listItemPage[i].classList.add("active-page");
        } else {
            listItemPage[i].classList.remove("active-page");
        }
    }
    console.log("currentPage", currentPage);
    showCurrentPage(currentPage);
    renderListBooks(listBooks);
    buttons(currentPage)
}
function decreasePage() {
    currentPage--;
    if (currentPage <= 0) {
        currentPage = 0;
    }
    let listItemPage = document.getElementsByClassName("item-page")
    console.log(listItemPage);
    for (let i = 0; i < listItemPage.length; i++) {
        if (i == currentPage - 1) {
            listItemPage[i].classList.add("active-page");
        } else {
            listItemPage[i].classList.remove("active-page");
        }
    }
    console.log("currentPage", currentPage);
    showCurrentPage(currentPage);
    renderListBooks(listBooks);
    buttons(currentPage)
}
function buttons(param) {
    console.log(param);
    let listClass = document.getElementsByClassName("li2");
    for (let i = 0; i < listClass.length; i++) {
        if (param == i) {
            listClass[i].classList.add("li3");
        } else {
            listClass[i].classList.remove("li3");
        }


    }
    currentPage = param;

    showCurrentPage(param + 1);
    renderListBooks(listBooks);
}
//2.hien thi san pham
function renderListBooks(params) {
    let result = "";
    for (let i = 0; i < params.length; i++) {
        if (i >= start && i < end) {
            result +=
                `
            <div class="book-item">
                <div class="book-item-img">
                    <img src="${params[i].src}" alt="">
                </div>
                <p class="title-name"> ${params[i].name} </p>
                <div class="cart-item">
                    <span> PRICE : ${VND.format(params[i].price)}</span>
                    <span onclick=addToCart(${params[i].id})><i class="ri-shopping-cart-line">${i + 1}</i>
                    </span>
                </div>
            </div>
           `
        }
    }
    document.getElementById("listbooks").innerHTML = result;
}
renderListBooks(listBooks);
if (checkLogin()) {
    document.getElementsByClassName("logout")[0].style.display = "inline";
    document.getElementsByClassName("bill")[0].style.display = "inline";
}
function checkLogout() {
    let confirmLogout = confirm("bạn có muốn thoát không?");
    if (confirmLogout) {
        localStorage.removeItem("checkLogin");
        document.getElementsByClassName("logout")[0].style.display = "none";
        document.getElementsByClassName("bill")[0].style.display = "none";
        document.getElementById("totalCountBooks").innerHTML = 0;
    }
}
function checkLogin() {
    let getIsLogin = localStorage.getItem("checkLogin");
    if (getIsLogin == null) {
        return false;
    } else {
        return true;
    }
}
function checkBookInCart(cart, bookId) {
    for (let i in cart) {
        if (cart[i].id == bookId) {
            return true;
        }
    }
    return false
}
function addToCart(idBook) {
    if (idBook == undefined) {
        return
    }
    let checkIsLogin = localStorage.getItem("checkLogin");
    if (checkIsLogin == null) {
        confirm("Xin mời đăng nhập trước khi mua hàng!");
        return;
    }
    console.log("mua hàng bình thường!");
    let listBooks = JSON.parse(localStorage.getItem("listBooks"));
    let listUser = JSON.parse(localStorage.getItem("listUser"));
    for (let i = 0; i < listUser.length; i++) {
        if (listUser[i].idUser == checkIsLogin) {
            for (let j = 0; j < listBooks.length; j++) {
                if (listBooks[j].id == idBook) {
                    console.log("book select", listBooks[j]);
                    // KIEM TRA SACH VUA CHON DA CO HAY CHUA
                    if (checkBookInCart(listUser[i].cartUser, listBooks[j].id)) {
                        for (let h in listUser[i].cartUser) {
                            if (listUser[i].cartUser[h].id == listBooks[j].id) {
                                listUser[i].cartUser[h].quantity++;
                                break
                            }
                        }
                        localStorage.setItem("listUser", JSON.stringify(listUser)); // save
                    } else {
                        listBooks[j].quantity = 1;
                        listUser[i].cartUser.push(listBooks[j]);
                        localStorage.setItem("listUser", JSON.stringify(listUser)); // save
                    }

                    let allIdBooks = [];
                    for (let index = 0; index < listUser[i].cartUser.length; index++) {
                        allIdBooks.push(listUser[i].cartUser[index].id)
                    }
                    document.getElementById("totalCountBooks").innerHTML = [...new Set(allIdBooks)].length;


                }
            }
        }
    }

}
addToCart();
function bc() {
    let arr6 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách bán chạy")) {
            arr6.push(listBooks[i]);

        }
    }
    renderListBooks(arr6);
    }
function pl() {
    let arr1 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách Chính trị – pháp luật")) {
            arr1.push(listBooks[i]);
        }
        console.log(arr1);
    }
    renderListBooks(arr1);

}
function gt() {
    let arr2 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách Giáo trình")) {
            arr2.push(listBooks[i]);
        }
    }
    renderListBooks(arr2);
}
function khcn() {
    let arr3 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách Khoa học công nghệ – Kinh tế")) {
            arr3.push(listBooks[i]);
        }
    }
    renderListBooks(arr3);
}
function tn() {
    let arr4 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách thiếu nhi")) {
            arr4.push(listBooks[i]);
        }
    }
    renderListBooks(arr4);
}
function vh() {
    let arr5 = [];
    for (let i = 0; i < listBooks.length; i++) {
        if (listBooks[i].type.includes("Sách Văn học nghệ thuật")) {
            arr5.push(listBooks[i]);
        }
    }
    renderListBooks(arr5);
}
    document.querySelector("#all").setAttribute("onClick", "javascript:renderListBooks(listBooks) ;");
    let count1 = 1;
    document.getElementById("product").addEventListener("click", function (k) {
        k.preventDefault()
    });
    function sp(aa) {
        count1 += 1;
        console.log(count1);
        document.getElementById("product").addEventListener("click", function (k) {
            k.preventDefault()
        });
        if (count1 % 2 == 0) {
            document.getElementById("tableSanpham").style.display ="block";
        } else {
            document.getElementById("tableSanpham").style.display ="none";
        }
    }
    function searchByName() {
        let valueInputSearch = document.getElementById("searchByName").value;
        let resultSearch = [];
        for (let i = 0; i < listBooks.length; i++) {
            if (listBooks[i].name.indexOf(valueInputSearch) != -1) {
                resultSearch.push(listBooks[i]);
            }
        }
        renderListBooks(resultSearch);
    }
    
// Tạo một hàm tự động thay đổi chiều dài của dòng chữ khi cửa sổ được thay đổi kích thước
window.addEventListener('resize', function() {
    var container = document.querySelector('.container');
    var text = document.querySelector('.text');
    text.style.width = container.offsetWidth + 'px';
  });
  // Thực thi hàm tự động khi trang được tải
  window.dispatchEvent(new Event('resize'));


  function goToAdmin() {
    window.location.href = "http://localhost:5500/html/admin.html"
  }